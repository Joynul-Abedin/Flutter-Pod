Fix CocoaPods installation and verification

PROBLEM FIXED:
- Script was incorrectly detecting CocoaPods as "already installed" even when not working
- CocoaPods gem was not properly installed for the current Ruby version
- Missing CocoaPods repository setup causing functionality issues

IMPROVEMENTS:
- Enhanced CocoaPods detection to verify it's actually working (pod --version test)
- Added automatic removal and reinstallation when Ruby version changes
- Added CocoaPods repository setup (pod setup) after installation
- Better error messages and manual fallback instructions
- More thorough verification of CocoaPods functionality

BENEFITS:
- CocoaPods will be properly installed and working
- Resolves Ruby version compatibility issues
- Better user experience with clear feedback
- Automatic fixing of common CocoaPods problems

This resolves the issue where users see "CocoaPods already installed" 
but get gem errors when trying to use the pod command. 